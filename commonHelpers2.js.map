{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle'\n\nconst form = document.querySelector(\".feedback-form\");\nconst FORM_KEY = \"feedback-form-state\";\n\nform.addEventListener(\"input\", throttle(saveFormData, 500));\nform.addEventListener(\"submit\", submitForm);\n\n\n\nfunction saveFormData() {\n   const dataForm = {\n      email: form.email.value.trim(),\n      message: form.message.value.trim(),\n   }\n\n   localStorage.setItem(FORM_KEY, JSON.stringify(dataForm));\n   // console.log(dataForm);\n}  \n\nconst checkForm = localStorage.getItem(FORM_KEY)\nif (checkForm) {\n   const parsedData = JSON.parse(checkForm);\n   form.email.value = parsedData.email || \"\";\n   form.message.value = parsedData.message || \"\";\n}\n\n\nfunction submitForm(event) {\n   event.preventDefault();\n   const sendDataForm = {\n      email: form.email.value.trim(),\n      message: form.message.value.trim(),\n   }\n   if (sendDataForm.email === \"\" && sendDataForm.message === \"\") {\n      return alert(\"Both fields must be filled before sending\")\n   }\n   console.log(sendDataForm);\n\n   localStorage.removeItem(FORM_KEY);\n   form.reset()\n}\n\n\n\n"],"names":["form","FORM_KEY","throttle","saveFormData","submitForm","dataForm","checkForm","parsedData","event","sendDataForm"],"mappings":"oFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAW,sBAEjBD,EAAK,iBAAiB,QAASE,EAASC,EAAc,GAAG,CAAC,EAC1DH,EAAK,iBAAiB,SAAUI,CAAU,EAI1C,SAASD,GAAe,CACrB,MAAME,EAAW,CACd,MAAOL,EAAK,MAAM,MAAM,KAAM,EAC9B,QAASA,EAAK,QAAQ,MAAM,KAAM,CACpC,EAED,aAAa,QAAQC,EAAU,KAAK,UAAUI,CAAQ,CAAC,CAE1D,CAEA,MAAMC,EAAY,aAAa,QAAQL,CAAQ,EAC/C,GAAIK,EAAW,CACZ,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCN,EAAK,MAAM,MAAQO,EAAW,OAAS,GACvCP,EAAK,QAAQ,MAAQO,EAAW,SAAW,EAC9C,CAGA,SAASH,EAAWI,EAAO,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAe,CAClB,MAAOT,EAAK,MAAM,MAAM,KAAM,EAC9B,QAASA,EAAK,QAAQ,MAAM,KAAM,CACpC,EACD,GAAIS,EAAa,QAAU,IAAMA,EAAa,UAAY,GACvD,OAAO,MAAM,2CAA2C,EAE3D,QAAQ,IAAIA,CAAY,EAExB,aAAa,WAAWR,CAAQ,EAChCD,EAAK,MAAO,CACf"}